- pipeline:
    name: check
    manager: independent
    source:
      github
    trigger:
      github:
        - event:
            - pr-open
            - pr-change
            - pr-reopen
    success:
      github: 'TEST PASSES'
    failure:
      github: 'TEST FAILED'

- pipeline:
    name: post
    manager: independent
    source:
      github
    trigger:
      github:
        - event: push

- pipeline:
    name: tag
    manager: independent
    source:
      github
    trigger:
      github:
        - event: tag

- job:
    name: project-test1
- job:
    name: project-test2
- job:
    name: project-post
- job:
    name: project-tag

- project:
    name: org/project
    check:
      jobs:
        - project-test1
        - project-test2
    post:
      jobs:
        - project-post
    tag:
      jobs:
        - project-tag
